import{u as y,j as r}from"./index-CVfug0Rk.js";import{r as u}from"./react-vendor-ByTr29QW.js";import"./firebase-vendor-CJFYC82U.js";const l={_origin:"https://api.emailjs.com"},j=(e,t="https://api.emailjs.com")=>{l._userID=e,l._origin=t},g=(e,t,o)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class p{constructor(t){this.status=t.status,this.text=t.responseText}}const x=(e,t,o={})=>new Promise((s,i)=>{const n=new XMLHttpRequest;n.addEventListener("load",({target:a})=>{const m=new p(a);m.status===200||m.text==="OK"?s(m):i(m)}),n.addEventListener("error",({target:a})=>{i(new p(a))}),n.open("POST",l._origin+e,!0),Object.keys(o).forEach(a=>{n.setRequestHeader(a,o[a])}),n.send(t)}),w=(e,t,o,s)=>{const i=s||l._userID;return g(i,e,t),x("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"})},v=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},_=(e,t,o,s)=>{const i=s||l._userID,n=v(o);g(i,e,t);const a=new FormData(n);return a.append("lib_version","3.2.0"),a.append("service_id",e),a.append("template_id",t),a.append("user_id",i),x("/api/v1.0/email/send-form",a)},b={init:j,send:w,sendForm:_},k=6e4;let h=0;const N=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),T=e=>e.length>=10&&e.length<=1e3,q=({t:e})=>{const{showToast:t,requestConfirmation:o}=y(),[s,i]=u.useState({name:"",email:"",message:""}),n=u.useCallback(m=>{const{name:c,value:d}=m.target;i(f=>({...f,[c]:d}))},[]),a=u.useCallback(async m=>{m.preventDefault();const c=Date.now();if(c-h<k){t("Please wait a minute before sending another message.","error");return}if(!N(s.email)){t("Please enter a valid email address.","error");return}if(!T(s.message)){t("Message must be between 10 and 1000 characters.","error");return}o({title:"Send Message",message:"Are you sure you want to send this message?",confirmText:"Send",cancelText:"Cancel",onConfirm:async()=>{try{h=c,b.init("skwn_-DYfDakGK644"),await b.send("service_bdj14o3","template_2e2nikq",{name:s.name,email:s.email,message:s.message,to_email:"tiger3homs@gmail.com"}),t("Message sent successfully!","success"),i({name:"",email:"",message:""})}catch(d){console.error("Failed to send message:",d),t("Failed to send message. Please try again.","error")}}})},[s,t,o]);return r.jsx("section",{id:"contact",className:"container mx-auto px-4 py-16 shadow-xl backdrop-blur-sm",children:r.jsxs("div",{className:"bg-section max-w-3xl mx-auto p-8 shadow-lg",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8 text-title",children:e.title}),r.jsxs("form",{onSubmit:a,className:"mt-8",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-h3title",children:e.nameLabel}),r.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:n,placeholder:e.namePlaceholder,className:"mt-1 block w-full bg-gradient-to-br from-background to-background-secondary text-text border-secondary focus:ring-primary focus:border-primary p-1",required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-h3title",children:e.emailLabel}),r.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:n,placeholder:e.emailPlaceholder,className:"mt-1 block w-full bg-gradient-to-br from-background to-background-secondary text-text border-secondary focus:ring-primary focus:border-primary p-1",required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-h3title",children:e.messageLabel}),r.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:n,placeholder:e.messagePlaceholder,className:"mt-1 block w-full bg-gradient-to-br from-background to-background-secondary text-text border-secondary focus:ring-primary focus:border-primary p-3",rows:4,required:!0})]}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary hover:bg-gradient-to-br from-background to-background-secondary transition",children:e.submitButton})]})]})})};export{q as default};
//# sourceMappingURL=ContactSection-uIu3QQCT.js.map
